<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage">
<head>
<meta xmlns="http://www.w3.org/1999/xhtml" charset="utf-8">
<meta xmlns="http://www.w3.org/1999/xhtml" name="viewport" content="width=device-width, initial-scale=1.0">
<meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="X-UA-Compatible" content="IE=edge">
<title>FM Broadcast Receiver</title>
<script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "Communications Toolbox Support Package for Analog Devices ADALM-Pluto Radio"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../getting-started-with-communications-system-toolbox-support-package-for-pluto-radio.html",
          "name": "Get Started with Communications Toolbox Support Package for Analog Devices ADALM-Pluto Radio"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
      {
      "@context": "http://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement":
      [{
          "@type": "ListItem",
          "position": 1,

          "item": {
          "@id": "../index.html",
          "name": "Communications Toolbox Support Package for Analog Devices ADALM-Pluto Radio"
}

          } 
        ,
        {
          "@type": "ListItem",
          "position": 2,

          "item": {
          "@id": "../application-specific-examples.html",
          "name": "Application-Specific"
}

          }]
      }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "VisibleBreadcrumbs",

        "itemListElement":
        [
        "getting-started-with-communications-system-toolbox-support-package-for-pluto-radio",
        "application-specific-examples"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "DigitalDocument",
          "headline": "FM Broadcast Receiver",
          "description": "Build an FM mono or stereo receiver using MATLAB&#174; and Communications Toolbox&#8482;. You can either use captured signals, or receive signals in real time using the RTL-SDR Radio, ADALM-PLUTO Radio or USRP&#8482; Radio.",
          "thumbnailURL": "../../../examples/comm/win64/xxFMReceiverExampleApp.png",
          "genre": "Script",
          "isBasedOn": {
          "@type": "Product",
          "name": "MATLAB"

        },
          "identifier": "comm.FMBroadcastReceiverExample",
          "name": "FMBroadcastReceiverExample",
          "url": "fm-broadcast-receiver.html"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "PropertyValue",
          "name": "open_command",
          "value": "matlab:openExample('comm/FMBroadcastReceiverExample')"

        }</script><script xmlns="http://www.w3.org/1999/xhtml" type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "ItemList",
          "name": "ExampleSourceFiles",

        "itemListElement":
        [
        "FMBroadcastReceiverExample.m",
        "SignalSourceController.m",
        "ExampleController.m",
        "helperFindPlutoSDR.m",
        "helperFindRTLSDRRadio.m",
        "helperFMConfig.m",
        "helperFMUserInput.m",
        "FMReceiverExampleApp.png",
        "rbds_capture.bb",
        "defaultinputsFM.mat",
        "ExampleSourceType.m",
        "helperFMReceiverController.m",
        "FMReceiverExampleApp.m",
        "helperFMViewer.m",
        "runFMReceiver.m",
        "LogDataController.m",
        "helperFindUSRPRadio.m"
        ],
        "itemListOrder": "http://schema.org/ItemListOrderAscending"
        }
        </script><link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/bootstrap.min.css" rel="stylesheet" type="text/css">


  <meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Script-Type" content="text/javascript">
<meta xmlns="http://www.w3.org/1999/xhtml" name="toctype" itemprop="pagetype" content="ug">
<meta xmlns="http://www.w3.org/1999/xhtml" name="infotype" itemprop="infotype" content="ex gs">

<meta xmlns="http://www.w3.org/1999/xhtml" name="description" itemprop="description" content="This example shows how to build an FM mono or stereo receiver using MATLAB&#174; and Communications Toolbox&#8482;."><meta xmlns="http://www.w3.org/1999/xhtml" content="../../../examples/comm/win64/xxFMReceiverExampleApp.png" itemprop="thumbnailUrl">
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/jquery/jquery-latest.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_lg.css" rel="stylesheet" media="screen and (min-width: 1200px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_md.css" rel="stylesheet" media="screen and (min-width: 992px) and (max-width: 1199px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_sm+xs.css" rel="stylesheet" media="screen and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_sm.css" rel="stylesheet" media="screen and (min-width: 768px) and (max-width: 991px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_xs.css" rel="stylesheet" media="screen and (max-width: 767px)">
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/site6_offcanvas_v2.css" rel="stylesheet" type="text/css">

<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/l10n.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/f1help.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/docscripts.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/mw.imageanimation.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/jquery.highlight.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/underscore-min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/use_platform_screenshots.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/suggest.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/overload.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/helpservices.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/productfilter.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/product_group.js"></script><script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/scripts/saxonjs/SaxonJS2.rt.js"></script><script xmlns="http://www.w3.org/1999/xhtml">
            window.history.replaceState(window.location.href, null, ""); // Initialize
            window.onload = function() {    
            mystylesheetLocation = "../includes/shared/scripts/product_group-sef.json";
            mysourceLocation = "../../../docset/docset.xml";
            product_help_location = "supportpkg/plutoradio";
            pagetype = "section";
            doccentertype = "product";
            langcode = "";
            getProductFilteredList(mystylesheetLocation, mysourceLocation, product_help_location, pagetype, doccentertype, langcode);  
            }
          </script>




<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/jquery/jquery.mobile.custom.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/bootstrap.min.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/product/scripts/global.js"></script>
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/doc_center_base.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/doc_center_installed.css" rel="stylesheet" type="text/css">
<link xmlns="http://www.w3.org/1999/xhtml" href="../includes/product/css/doc_center_print.css" rel="stylesheet" type="text/css" media="print">
<script xmlns="http://www.w3.org/1999/xhtml" src="../includes/shared/equationrenderer/release/MathRenderer.js"></script>
</head>
<body id="responsive_offcanvas">
<div xmlns="http://www.w3.org/1999/xhtml" id="doc_header_spacer" class="header"></div>
<div xmlns="http://www.w3.org/1999/xhtml" class="section_header level_3"><div class="container-fluid"><div class="row" id="mobile_search_row"><div class="col-sm-6 col-md-7 has_horizontal_local_nav" id="section_header_title"><div class="section_header_content"><div class="section_header_title"><h1><a href="../../../documentation-center.html">Help Center</a></h1></div></div></div><div class="col-xs-12 col-sm-6 col-md-5" id="mobile_search"><div class="search_nested_content_container"><form id="docsearch_form" name="docsearch_form" method="get" data-release="R2023a" data-language="en" action="../../../templates/searchresults.html"><div class="input-group tokenized_search_field"><label class="sr-only">Search Help</label><input type="text" class="form-control conjoined_search" autocomplete="off" name="qdoc" placeholder="Search Help" id="docsearch"> <div class="input-group-btn"><button type="submit" name="submitsearch" id="submitsearch" class="btn icon-search btn_search_adjacent btn_search icon_16" tabindex="-1"></button></div></div></form></div><button class="btn icon-remove btn_search pull-right icon_32 visible-xs" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div><div class="visible-xs" id="search_actuator"><button class="btn icon-search btn_search pull-right icon_16" data-toggle="collapse" href="#mobile_search" aria-expanded="false" aria-controls="mobile_search"></button></div></div></div></div><div class="row-offcanvas row-offcanvas-left">
<div xmlns="http://www.w3.org/1999/xhtml" class="sidebar-offcanvas" id="sidebar">
<nav class="offcanvas_nav" role="navigation">
<div class="offcanvas_actuator" data-toggle="offcanvas" data-target="#sidebar" id="nav_toggle"><button type="button" class="btn"><span class="sr-only">Off-Canvas Navigation Menu Toggle
                  Off-Canvas Navigation Menu Toggle</span><span class="icon-menu"></span></button><span class="offcanvas_actuator_label" id="translation_icon-menu" tabindex="-1" aria-hidden="true"></span></div><div class="nav_list_wrapper" id="nav_list_wrapper"><nav class="offcanvas_nav" role="navigation"><ul class="nav_breadcrumb" id="ul_left_nav_ancestors"><li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../../../documentation-center.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Documentation Home</span></a></li></ul>
<ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav">Communications Toolbox Support Package for Analog Devices ADALM-Pluto Radio</a>
</li>
<li itemscope="" itemtype="http://www.data-vocabulary.org/Breadcrumb" itemprop="breadcrumb"><a href="../getting-started-with-communications-system-toolbox-support-package-for-pluto-radio.html?s_tid=CRUX_lftnav" itemprop="url"><span itemprop="title">Get Started with Communications Toolbox Support Package for Analog Devices ADALM-Pluto Radio</span></a></li></ul><ul class="nav_disambiguation"><li><a href="../index.html?s_tid=CRUX_lftnav">Communications Toolbox Support Package for Analog Devices ADALM-Pluto Radio</a>
</li>
<li><a href="../application-specific-examples.html?s_tid=CRUX_lftnav">Application-Specific</a></li></ul><ul class="nav_scrollspy nav">
<li class="nav_scrollspy_function"><a href="#responsive_offcanvas">FM Broadcast Receiver</a></li>
<li class="nav_scrollspy_title" id="SSPY810-section">On this page</li>
<!--ADD_REFENTRY_TITLE_HERE 11--><li><a href="#d124e3239" class="intrnllnk">Required Hardware and Software</a></li><li><a href="#d124e3259" class="intrnllnk">Background</a></li><li><a href="#d124e3268" class="intrnllnk">Run the Example</a></li><li><a href="#d124e3287" class="intrnllnk">Receiver Structure</a></li><li><a href="#d124e3293" class="intrnllnk">Example Code</a></li><li><a href="#d124e3301" class="intrnllnk">Further Exploration</a></li><li><a href="#d124e3324" class="intrnllnk">Selected Bibliography</a></li></ul>
</nav></div></nav>
<script src="../includes/product/scripts/offcanvas_v2.js"></script></div><!--END.CLASS sidebar-offcanvas-->
<div class="offcanvas_content_container">
<div xmlns="http://www.w3.org/1999/xhtml" class="sticky_header_container"><div class="horizontal_nav"><div class="horizontal_nav_container"><div class="offcanvas_horizontal_nav"><div class="container-fluid"><div class="row"><div class="col-sm-12 hidden-xs"><nav class="navbar navbar-default" role="navigation" id="subnav"><div><ul class="nav navbar-nav crux_browse"><li id="crux_nav_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_example" class="crux_resource"><a href="../examples.html?category=getting-started-with-communications-system-toolbox-support-package-for-pluto-radio&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=getting-started-with-communications-system-toolbox-support-package-for-pluto-radio&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_block" class="crux_resource"><a href="../referencelist.html?type=block&amp;category=getting-started-with-communications-system-toolbox-support-package-for-pluto-radio&amp;s_tid=CRUX_topnav">Blocks</a></li></ul></div></nav></div><div class="visible-xs"><div class="container-fluid"><div class="row"><div class="col-xs-9"><div class="mobile_crux_nav_trigger"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Resources<span class="icon-arrow-down icon_16"></span></button><ul class="dropdown-menu"><li id="crux_nav_mobile_documentation" class="crux_resource active">Documentation</li><li id="crux_nav_mobile_example" class="crux_resource"><a href="../examples.html?category=getting-started-with-communications-system-toolbox-support-package-for-pluto-radio&amp;s_tid=CRUX_topnav">Examples</a></li><li id="crux_nav_mobile_function" class="crux_resource"><a href="../referencelist.html?type=function&amp;category=getting-started-with-communications-system-toolbox-support-package-for-pluto-radio&amp;s_tid=CRUX_topnav">Functions</a></li><li id="crux_nav_mobile_block" class="crux_resource"><a href="../referencelist.html?type=block&amp;category=getting-started-with-communications-system-toolbox-support-package-for-pluto-radio&amp;s_tid=CRUX_topnav">Blocks</a></li></ul></div></div></div><div class="col-xs-3"><div class="translate_placeholder"></div></div></div></div></div></div></div></div></div></div></div><div class="content_container" id="content_container" itemprop="content">
<div class="container-fluid">
<div class="row">
<div class="col-xs-12">

<div xmlns="http://www.w3.org/1999/xhtml" id="product_info_alert"></div><section xmlns="http://www.w3.org/1999/xhtml" id="doc_center_content" lang="en" data-language="en"><div id="pgtype-topic">
<section itemprop="content"><h1 class="r2023a" itemprop="title content" id="example-plutoradioFMReceiverExample">FM Broadcast Receiver</h1><div class="examples_short_list hidden_ios_android"><div data-pane="metadata" class="panel metadata_container panel-default"><div class="panel-body metadata_content"><p class="add_margin_5">This example uses:</p><ul class="list-unstyled add_border_bottom example_product_list" itemprop="requiredprods"><li><a href="matlab:matlab.internal.language.introspective.showAddon('CM')">Communications Toolbox</a></li><li><a href="matlab:matlab.internal.language.introspective.showAddon('PLUTO')">Communications Toolbox Support Package for Analog Devices ADALM-PLUTO Radio</a></li><li><a href="matlab:matlab.internal.language.introspective.showAddon('RTLSDR')">Communications Toolbox Support Package for RTL-SDR Radio</a></li><li><a href="matlab:matlab.internal.language.introspective.showAddon('USRP')">Communications Toolbox Support Package for USRP Radio</a></li></ul><a class="btn btn_secondary btn-block" href="matlab:openExample('comm/FMBroadcastReceiverExample')" data-ex-genre="Script">Open Script</a></div></div></div><div itemscope="" itemtype="http://www.mathworks.com/help/schema/MathWorksDocPage/Example" itemprop="example" class="em_example"><meta itemprop="exampleid" content="comm-FMBroadcastReceiverExample"><meta itemprop="exampletitle" content="FM Broadcast Receiver"></div><span id="FMBroadcastReceiverExample" class="anchor_target"></span>

<p class="shortdesc">This example shows how to build an FM mono or stereo receiver using MATLAB&#174; and Communications Toolbox&#8482;. You can either use captured signals, or receive signals in real time using the RTL-SDR Radio, ADALM-PLUTO Radio or USRP&#8482; Radio.</p>

<div class="procedure"><h3 class="title" id="d124e3239">Required Hardware and Software<span id="FMBroadcastReceiverExample-1" class="anchor_target"></span></h3><p>To run this example using recorded data from a file, you need Communications Toolbox&#8482;.</p><p>To receive signals in real time, you also need one of these SDR devices and the corresponding software add-on:</p><div class="itemizedlist"><ul><li><p>RTL-SDR radio and the Communications Toolbox Support Package for RTL-SDR Radio add-on</p></li></ul></div><div class="itemizedlist"><ul><li><p>ADALM-PLUTO radio and the Communications Toolbox Support Package for Analog Devices&#174; ADALM-PLUTO Radio add-on</p></li></ul></div><div class="itemizedlist"><ul><li><p>USRP radio and the Communications Toolbox Support Package for USRP&#174; Radio add-on</p></li></ul></div><p>For more information, see the <a href="https://www.mathworks.com/discovery/sdr.html" target="_blank"><span class="emphasis"><em>Software Defined Radio (SDR) discovery page</em></span></a>.</p><h3 class="title" id="d124e3259">Background<span id="FMBroadcastReceiverExample-2" class="anchor_target"></span></h3><p>FM broadcasting uses frequency modulation (FM) to provide high-fidelity sound transmission over broadcast radio channels. Pre-emphasis and de-emphasis filters are used to reduce the effect of noise on high audio frequencies. Stereo encoding enables simultaneous transmission of both left and right audio channels over the same FM channel [ <a href="#FMBroadcastReceiverExample-7" class="intrnllnk">1</a> ].</p><h3 class="title" id="d124e3268">Run the Example<span id="FMBroadcastReceiverExample-3" class="anchor_target"></span></h3><p>To and run the example, you need to enter the following information:</p><div class="orderedlist"><ol style="list-style: decimal;"><li><p>Reception duration in seconds</p></li><li><p>Signal source (captured data, RTL-SDR radio, ADALM-PLUTO radio or USRP radio)</p></li><li><p>FM channel frequency</p></li></ol></div><p>The example plays the received audio over your computer's speakers.</p><p>NOTE: This example utilizes a center frequency that is outside the default PlutoSDR tuning range. To use your ADALM-PLUTO radio outside the qualified tuning range, at the MATLAB&#174; command line, run <a href="../ref/configureplutoradio.html" data-docid="plutoradio_ref#bvusb68-1" class="a"><code class="olink">configurePlutoRadio</code></a> using <code class="literal">'AD9364'</code> as the input argument.</p><h3 class="title" id="d124e3287">Receiver Structure<span id="FMBroadcastReceiverExample-4" class="anchor_target"></span></h3><p>The FM Broadcast Demodulator Baseband System object&#8482; converts the input sampling rate of the 228 kHz to 45.6 kHz, the sampling rate for your host computer's audio device. According to the FM broadcast standard in the United States, the de-emphasis lowpass filter time constant is set to 75 microseconds. This example processes the received mono signals. The demodulator can also process stereo signals.</p><p>To perform stereo decoding, the FM Broadcast Demodulator Baseband object uses a peaking filter which picks out the 19 kHz pilot tone from which the 38 kHz carrier is created. Using the resulting carrier signal, the FM Broadcast Demodulator Baseband block downconverts the L-R signal, centered at 38 kHz, to baseband. Afterwards, the L-R and L+R signals pass through a 75 microsecond de-emphasis filter . The FM Broadcast Demodulator Baseband block separates the L and R signals and converts them to the 45.6 kHz audio signal.</p><h3 class="title" id="d124e3293">Example Code<span id="FMBroadcastReceiverExample-5" class="anchor_target"></span></h3><p>The receiver asks for user input and initializes variables. Then, it calls the signal source and FM broadcast receiver in a loop. The loop also keeps track of the radio time using the frame duration and lost samples reported by the signal source.</p><p>The latency output of the signal source is an indication of when the samples were actually received and can be used to determine how close to real time the receiver is running. A latency value of 1 and a lost samples value of 0 indicates that the system is running in real time. A latency value of greater than one indicates that the receiver was not able to process the samples in real time. Latency is reported in terms of the number of frames. It can be between 1 and 128. If latency is greater than 128, then samples are lost.</p><div class="code_responsive"><div class="programlisting"><div class="codeinput"><pre><span style="color:#228B22">%For the option to change default settings, set |cmdlineInput| to 1.</span>
cmdlineInput = 0;
<span style="color:#0000FF">if</span> cmdlineInput
    <span style="color:#228B22">% Request user input from the command-line for application parameters</span>
    userInput = helperFMUserInput;
<span style="color:#0000FF">else</span>
    load(<span style="color:#A020F0">'defaultinputsFM.mat'</span>);
<span style="color:#0000FF">end</span>

<span style="color:#228B22">% Calculate FM system parameters based on the user input</span>
[fmRxParams,sigSrc] = helperFMConfig(userInput);

<span style="color:#228B22">% Create FM broadcast receiver object and configure based on user input</span>
fmBroadcastDemod = comm.FMBroadcastDemodulator(<span style="color:#0000FF">...</span>
    <span style="color:#A020F0">'SampleRate'</span>, fmRxParams.FrontEndSampleRate, <span style="color:#0000FF">...</span>
    <span style="color:#A020F0">'FrequencyDeviation'</span>, fmRxParams.FrequencyDeviation, <span style="color:#0000FF">...</span>
    <span style="color:#A020F0">'FilterTimeConstant'</span>, fmRxParams.FilterTimeConstant, <span style="color:#0000FF">...</span>
    <span style="color:#A020F0">'AudioSampleRate'</span>, fmRxParams.AudioSampleRate, <span style="color:#0000FF">...</span>
    <span style="color:#A020F0">'Stereo'</span>, false);

<span style="color:#228B22">% Create audio player</span>
player = audioDeviceWriter(<span style="color:#A020F0">'SampleRate'</span>,fmRxParams.AudioSampleRate);

<span style="color:#228B22">% Initialize radio time</span>
radioTime = 0;

<span style="color:#228B22">% Main loop</span>
<span style="color:#0000FF">while</span> radioTime &lt; userInput.Duration
  <span style="color:#228B22">% Receive baseband samples (Signal Source)</span>
  <span style="color:#0000FF">if</span> fmRxParams.isSourceRadio
      <span style="color:#0000FF">if</span> fmRxParams.isSourcePlutoSDR
          rcv = sigSrc();
          lost = 0;
          late = 1;
      <span style="color:#0000FF">elseif</span> fmRxParams.isSourceUsrpRadio
          rcv= sigSrc();
          lost = 0;
      <span style="color:#0000FF">else</span>
          [rcv,~,lost,late] = sigSrc();
      <span style="color:#0000FF">end</span>
  <span style="color:#0000FF">else</span>
    rcv = sigSrc();
    lost = 0;
    late = 1;
  <span style="color:#0000FF">end</span>

  <span style="color:#228B22">% Demodulate FM broadcast signals and play the decoded audio</span>
  audioSig = fmBroadcastDemod(rcv);
  player(audioSig);

  <span style="color:#228B22">% Update radio time. If there were lost samples, add those too.</span>
  radioTime = radioTime + fmRxParams.FrontEndFrameTime + <span style="color:#0000FF">...</span>
    double(lost)/fmRxParams.FrontEndSampleRate;
<span style="color:#0000FF">end</span>

<span style="color:#228B22">% Release the audio and the signal source</span>
release(sigSrc)
release(fmBroadcastDemod)
release(player)
</pre></div></div></div><h3 class="title" id="d124e3301">Further Exploration<span id="FMBroadcastReceiverExample-6" class="anchor_target"></span></h3><p>To further explore the example, you can vary the center frequency of the RTL-SDR radio, ADALM-PLUTO radio or USRP radio and listen to other radio stations.</p><p>You can set the Stereo property of the FM demodulator object to true to process the signals in stereo fashion and compare the sound quality.</p><p>You can explore following function for details of the system parameters:</p><div class="itemizedlist"><ul><li><p><a href="matlab:edit('helperFMConfig.m')" target="_blank">helperFMConfig.m</a></p></li></ul></div><p>You can further explore the FM signals using FMReceiverExampleApp user interface. This app allows you to select the signal source and change the center frequency of the RTL-SDR radio, ADALM-PLUTO radio or USRP radio. To launch the app, type <a href="matlab:commandwindow;FMReceiverExampleApp" target="_blank">FMReceiverExampleApp</a> in the MATLAB Command Window. This user interface is shown in the following figure</p><p></p>
<div class="informalfigure"><div id="d124e3320" class="mediaobject"><p><img src="../../../examples/comm/win64/xxFMReceiverExampleApp.png"></p></div></div><p>
 </p><h3 class="title" id="d124e3324">Selected Bibliography<span id="FMBroadcastReceiverExample-7" class="anchor_target"></span></h3><div class="orderedlist"><ol style="list-style: decimal;"><li><p><a href="https://en.wikipedia.org/wiki/FM_broadcasting" target="_blank">https://en.wikipedia.org/wiki/FM_broadcasting</a></p></li></ol></div></div></section>
    </div>
<div class="modal fade" id="open-example-dialog" tabindex="-1" role="dialog" aria-labelledby="openExampleDialogLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button><h2 class="h3 modal-title">Open Example</h2></div><div class="modal-body" id="dialog-body"><p>You have a modified version of this example. Do you want to open this example with your edits?</p></div><div class="modal-footer"><a id="open-example-dialog-replace" class="btn btn_color_blue companion_btn" data-dismiss="modal">No, open this example and discard my edits</a><a id="open-example-dialog-continue" class="btn btn_color_blue" data-dismiss="modal">Yes</a></div></div></div></div>
<div class="clearfix"></div>
<div align="center" class="feedbackblock" id="mw_docsurvey"><script src="https://www.mathworks.com/help/docsurvey/docfeedback.js"></script>
<script>loadSurveyHidden();</script>
<link rel="stylesheet" href="https://www.mathworks.com/help/docsurvey/release/index-css.css" type="text/css">
<script src="https://www.mathworks.com/help/docsurvey/release/bundle.index.js"></script>

<script>initDocSurvey();</script></div></section>


</div>
</div>
</div>
</div><!--close_0960-->
<footer xmlns="http://www.w3.org/1999/xhtml" id="footer" class="bs-footer">
<div class="container-fluid">
<div class="footer">
<div class="row">
<div class="col-xs-12">
<p class="copyright">© 1994-2023 The MathWorks, Inc.</p>
<ul class="footernav"><li class="footernav_help"><a href="matlab:web(matlab.internal.licenseAgreement)">Terms of Use</a></li><li class="footernav_patents"><a href="matlab:web([matlabroot '/patents.txt'])">Patents</a></li><li class="footernav_trademarks"><a href="matlab:web([matlabroot '/trademarks.txt'])">Trademarks</a></li><li class="footernav_piracy"><a href="matlab:web([docroot '/acknowledgments.html'])">Acknowledgments</a></li></ul></div>
</div>
</div>
</div>
</footer>
</div><!--close row-offcanvas-->
</div><!--close_0970-->
</body>
</html>
